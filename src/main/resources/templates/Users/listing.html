<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Listing</title>
	<script src='https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css' rel='stylesheet' />
</head>
<body>
<h1>Car Listing</h1>
<div><img alt="img example"></div>
<h2>Information about Car</h2>
<div>
	<form th:action="@{/listings}" th:object="${trip}">
		<label for="startDate"></label>
		<input id="startDate" class="form-control" th:field="*{startDate}" type="text" placeholder="mm/dd/yyyy">
		<button type="submit">Start Date</button>
		<label for="endDate"></label>
		<input id="endDate" class="form-control" th:field="*{endDate}" type="text" placeholder="mm/dd/yyyy">
		<button type="submit">End Date</button>
	</form>
</div>
<div th:each="car : ${listings}">
	<div>
		<a th:href="@{/listings/{id} (id = ${car.id})}"><h1 th:text="${car.make}"></h1></a>
		<p th:text="${car.model}"></p>
		<p th:text="${car.year}"></p>
		<p th:text="${car.mileage}"></p>
		<p th:text="${car.pricePerDay}"></p>
		<p th:text="${car.carLocationZip}" class="location"></p>
	</div> <hr>
</div>
<div id="map" style="width: 100%; height: 400px;"></div>
<script>

</script>

<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
<script src="https://code.jquery.com/jquery-3.7.0.js"
        integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM="
        crossorigin="anonymous">
</script>

<script>
	const mapBoxKey = "[[${mapBoxKey}]]";
</script>
<script th:src="@{/js/map.js}"></script>
</body>
</html>