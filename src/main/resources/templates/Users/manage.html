<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Manage Cars</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/style.css}">
	<link rel="icon" th:href="@{/img/favicon.ico}" type="image/x-icon" />
</head>
<body>
<div th:replace="partials/navbar :: navbar"></div>
<h1>Manage Cars</h1>
<div class="nav-item">
    <a th:href="@{/listyourride}" class="nav-link"><h2>Add</h2></a>
</div>
<h3>Cars for rent</h3>
<div th:each="car : ${cars}">
	<div th:if="${car.isAvailable() == true and car.isRented() == false}">
		<h3 class="m-2">Car:</h3>
		<a th:href="@{/car/{id}/edit (id = ${car.id})}">
			<h1 th:text="${car.make}"></h1></a>
		<h3 class="m-2">Car Model:</h3>
		<p th:text="${car.model}"></p>
		<h3 class="m-2">Car Year:</h3>
		<p th:text="${car.year}"></p>
		<h3 class="m-2">Car Mileage:</h3>
		<p th:text="${car.mileage}"></p>
		<h3 class="m-2">Car Price/Day:</h3>
		<p th:text="${car.pricePerDay}"></p>
		<h3 class="m-2">Car Zip:</h3>
		<p th:text="${car.carLocationZip}"></p>
		<h3 class="m-2">Main Photo:</h3>
		<img class="img-fluid" th:if="${not #lists.isEmpty(car.photos)}" th:src="${car.photos[0].carPhotoURL}" alt="Car Thumbnail" />
		<div id="thumbnailContainer"></div>
	</div>
</div>
<hr>
<h3>Cars rented</h3>
<div th:each="car : ${cars}">
    <div th:if="${car.isAvailable() == true and car.isRented() == true}">
        <a th:href="@{/car/{id}/edit (id = ${car.id})}"><h1 th:text="${car.make}"></h1></a>
        <p th:text="${car.model}"></p>
        <p th:text="${car.year}"></p>
        <p th:text="${car.mileage}"></p>
        <p th:text="${car.pricePerDay}"></p>
        <p th:text="${car.carLocationZip}"></p>
    </div>
</div>
<hr>
<h3>Cars not Listed</h3>
<div th:each="car : ${cars}">
    <div th:if="${car.isAvailable() == false}">
        <a th:href="@{/car/{id}/edit (id = ${car.id})}"><h1 th:text="${car.make}"></h1></a>
        <p th:text="${car.model}"></p>
        <p th:text="${car.year}"></p>
        <p th:text="${car.mileage}"></p>
        <p th:text="${car.pricePerDay}"></p>
        <p th:text="${car.carLocationZip}"></p>
    </div>
</div>
<hr>
<div th:replace="partials/footer :: footer"></div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script th:src="@{/js/scripts.js}"></script>
</body>
</html>